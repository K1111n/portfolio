<section class="contact-section" id="contact">
  <div class="contact-container">
    <div class="contact-header">
      <h1 class="contact-title">{{ 'contact.title' | transloco }}</h1>
      <div class="title-line"></div>
    </div>

    <div class="contact-content">
      <div class="contact-left">
        <div class="accent-line"></div>
        <h2 class="section-title">{{ 'contact.subtitle' | transloco }}</h2>
        <p class="section-description">
          {{ 'contact.description' | transloco }}
        </p>
        <p class="section-cta">
          {{ 'contact.needDeveloper' | transloco }}
          <span class="highlight">{{ 'contact.contactMe' | transloco }}</span>
        </p>
      </div>

      <div class="contact-right">
        <form
          action="https://formspree.io/f/xwprwdyj"
          method="POST"
          (submit)="onSubmit($event)"
          class="contact-form"
        >
          <div class="form-group" [class.has-error]="nameError && nameBlurred">
            <div class="input-wrapper">
              <input
                type="text"
                [(ngModel)]="formData.name"
                name="name"
                [placeholder]="'contact.namePlaceholder' | transloco"
                class="form-input"
                (blur)="validateName()"
                (focus)="nameBlurred = false"
                required
              />
              <span class="error-icon" *ngIf="nameError && nameBlurred">!</span>
              <span class="success-icon" *ngIf="!nameError && formData.name">✓</span>
            </div>
            <div class="error-message" *ngIf="nameError && nameBlurred">
              {{ 'contact.nameRequired' | transloco }}
            </div>
          </div>

          <div class="form-group" [class.has-error]="emailError && emailBlurred">
            <div class="input-wrapper">
              <input
                type="email"
                [(ngModel)]="formData.email"
                name="email"
                [placeholder]="'contact.emailPlaceholder' | transloco"
                class="form-input"
                (blur)="validateEmail()"
                (focus)="emailBlurred = false"
                required
              />
              <span class="error-icon" *ngIf="emailError && emailBlurred">!</span>
              <span class="success-icon" *ngIf="!emailError && formData.email">✓</span>
            </div>
            <div class="error-message" *ngIf="emailError && emailBlurred">
              {{ 'contact.emailRequired' | transloco }}
            </div>
          </div>

          <div class="form-group" [class.has-error]="messageError && messageBlurred">
            <div class="input-wrapper">
              <textarea
                [(ngModel)]="formData.message"
                name="message"
                [placeholder]="'contact.messagePlaceholder' | transloco"
                class="form-textarea"
                rows="6"
                (blur)="validateMessage()"
                (focus)="messageBlurred = false"
                required
              ></textarea>
              <span class="error-icon textarea-icon" *ngIf="messageError && messageBlurred">!</span>
              <span class="success-icon textarea-icon" *ngIf="!messageError && formData.message"
                >✓</span
              >
            </div>
            <div class="error-message" *ngIf="messageError && messageBlurred">
              {{ 'contact.messageRequired' | transloco }}
            </div>
          </div>

          <div class="privacy-section">
            <label class="checkbox-wrapper">
              <input
                type="checkbox"
                [(ngModel)]="privacyAccepted"
                name="privacy"
                class="hidden-checkbox"
                required
              />
              <span class="checkbox-visual"></span>
              <span class="checkbox-text">
                {{ 'contact.privacyText' | transloco }}
                <a routerLink="/privacy-policy" class="privacy-link">{{
                  'contact.privacyLink' | transloco
                }}</a>
                {{ 'contact.privacyText2' | transloco }}
              </span>
            </label>
          </div>

          <div class="form-actions">
            <button type="submit" class="submit-btn" [disabled]="!isFormValid()">
              {{ 'contact.submit' | transloco }}
            </button>
            <button
              type="button"
              class="scroll-top-btn"
              (click)="scrollToTop()"
              [attr.aria-label]="'contact.scrollToTop' | transloco"
            >
              <img src="/contact-go-up.png" alt="go-up" />
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>
